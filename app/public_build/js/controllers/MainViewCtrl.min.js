angular.module("fxApp").controller("MainViewCtrl",["$scope","fxRepo",function(e,t){function n(){for(var t=1;t<e.rateConversions.length;t++)console.log("came hereererere"),e.rateConversions[t]=parseFloat(e.rateConversions[0]/e.fxData[t].value).toFixed(2)}e.currentIndex=6,e.fxData=[],e.currentFxSelection=[],e.showRates=!0,e.allData=!1,e.rateConversions=[],e.ISK="1000",e.showMore=function(){if(e.allData)e.currentFxSelection=e.fxData.slice(0,e.currentIndex);else for(var t=e.currentIndex+1;t<e.fxData.length;t++)e.currentFxSelection.push(e.fxData[t]);e.allData=!e.allData},e.switchTable=function(){e.showRates=!e.showRates,console.log(e.rateConversions)},e.$watch("rateConversions[0]",function(){console.log("did watch"),n()}),t.getRates().then(function(t){if(t.results.length>0){e.fxData=t.results,e.rateConversions[0]=e.ISK;for(var n=1;n<e.fxData.length;n++)e.rateConversions.push(e.fxData[n].value*e.ISK);console.log(e.rateConversions),e.currentFxSelection=e.fxData.slice(0,e.currentIndex)}})}]);